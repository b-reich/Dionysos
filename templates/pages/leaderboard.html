{% extends 'layouts/main.html' %}
{% block title %}Leaderboard{% endblock %}
{% block content %}

	<div class="page-header">
		<h1>Leaderboard</h1>
	</div>
	<div class="container">
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
	<script type='text/javascript'>//<![CDATA[
	$(window).load(function () {
		var data = {{data|tojson}};
		$(function () {
			$('#table').bootstrapTable({
				data: data
			});
		});
		var ctx = $('#chart_canvas');
		var chart = new Chart(ctx, {
			type: 'horizontalBar',
			data: {
				labels: data.map(function (e) { return e.name }),
				datasets: [{
					label: 'apples',
					data: data.map(function (e) { return e.amount }),
					backgroundColor: "rgba(60, 120, 200, 1)"
				}]
			}
		});
	});//]]>
	</script>

	<div class="container">
		<canvas id="chart_canvas" width="1024" height="400">

		</canvas>
		<br>
		<table id="table" data-toggle="true" data-show-columns="true" data-pagination="true" data-height="500">
			<thead>
			<tr>
				<th data-field="name" data-sortable="true">Name</th>
				<th data-field="amount" data-sortable="true">Betrag</th>
			</tr>
			</thead>
		</table>
	</div>

{% endblock %}
